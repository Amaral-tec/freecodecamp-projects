<link rel="stylesheet" href="~/css/spamFilter.css" asp-append-version="true" />
<div class="modal-header">
    <h5 class="modal-title" id="projectSpamFilter">Learn Regular Expressions by Building a Spam Filter</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body spam-filter-project">
    <div class="alert alert-info small" role="alert">
        This project works with Regular expressions, capture groups, positive lookaheads, negative lookaheads, and other techniques to match any text you want.
        <button class="btn btn-sm btn-outline-primary" type="button" data-bs-toggle="collapse" data-bs-target="#codeExample" aria-expanded="false" aria-controls="codeExample">
            View Code
        </button>
    </div>
    <div class="collapse mt-2" id="codeExample">
        <div class="card card-body bg-light text-monospace">
            <pre><codev>
const messageInput = document.getElementById("message-input");
const result = document.getElementById("result");
const checkMessageButton = document.getElementById("check-message-btn");

const helpRegex = /please help|assist me/i;
const dollarRegex = /[0-9]+\s*(?:hundred|thousand|million|billion)?\s+dollars/i;
const freeRegex = /(?:^|\s)fr[e3][e3] m[o0]n[e3]y(?:$|\s)/i;
const stockRegex = /(?:^|\s)[s5][t7][o0][c{[(]k [a@4]l[e3]r[t7](?:$|\s)/i;
const dearRegex = /(?:^|\s)d[e3][a@4]r fr[i1|][e3]nd(?:$|\s)/i;

const denyList = [helpRegex, dollarRegex, freeRegex, stockRegex, dearRegex];

const isSpam = (msg) => denyList.some((regex) => regex.test(msg));

checkMessageButton.addEventListener("click", () => {
  if (messageInput.value === "") {
    alert("Please enter a message.");
    return;
  }

  result.textContent = isSpam(messageInput.value)
    ? "Oh no! This looks like a spam message."
    : "This message does not seem to contain any spam.";
  messageInput.value = "";
});
            </codev></pre>
        </div>
    </div>
    <div class="custom-spam-filter">
        <header class="main-text">
            <h1 class="title">Is this Spam?</h1>
            <p class="description">
                Enter a phrase to check if it would be marked as spam or not.
            </p>
        </header>

        <main>
            <label class="message-label" for="message-input">Message: </label>
            <textarea placeholder="Enter message here"
                      value=""
                      type="text"
                      name="message"
                      id="message-input"
                      rows="10"
                      cols="40"></textarea>
            <button class="btn" id="check-message-btn" type="button">
                Check message
            </button>
            <p id="result"></p>
        </main>
        <footer class="footer">&copy; freeCodeCamp</footer>
    </div>
</div>

<script>
    const messageInput = document.getElementById("message-input");
    const result = document.getElementById("result");
    const checkMessageButton = document.getElementById("check-message-btn");

    const helpRegex = /please help|assist me/i;
    const dollarRegex = /[0-9]+\s*(?:hundred|thousand|million|billion)?\s+dollars/i;
    const freeRegex = /(?:^|\s)fr[e3][e3] m[o0]n[e3]y(?:$|\s)/i;
    const stockRegex = /(?:^|\s)[s5][t7][o0][c{[(]k [a@4]l[e3]r[t7](?:$|\s)/i;
    const dearRegex = /(?:^|\s)d[e3][a@4]r fr[i1|][e3]nd(?:$|\s)/i;

    const denyList = [helpRegex, dollarRegex, freeRegex, stockRegex, dearRegex];

    const isSpam = (msg) => denyList.some((regex) => regex.test(msg));

    checkMessageButton.addEventListener("click", () => {
        if (messageInput.value === "") {
            alert("Please enter a message.");
            return;
        }

        result.textContent = isSpam(messageInput.value)
            ? "Oh no! This looks like a spam message."
            : "This message does not seem to contain any spam.";
        messageInput.value = "";
    });
</script>

